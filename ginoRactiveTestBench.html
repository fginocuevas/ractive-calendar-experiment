<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Ractive Test</title>

    <!-- Loading scripts -->
    <script src="js/plugins/jquery-1.11.3.min.js"></script>
    <script src="js/plugins/moment.min.js"></script>
    <!--<script src="https://cdnjs.cloudflare.com/ajax/libs/underscore.js/1.8.3/underscore-min.js"></script>-->
    <script src="js/plugins/clndr.js"></script>
    <script src="js/plugins/ractive.js"></script>
    <script src="js/planetsJSON.js"></script>

    <link href="css/myCalendar.css" rel="stylesheet" type="text/css" />
</head>
<body>
    <h1>Ractive Test Bench</h1>

    <div id="ractiveTestContainer"></div>
    <script id="ractiveTestTemplate" type="text/ractive">

        <h2>1.) Testing two-way binding</h2>
        <h3>Current User Info: {{name}} ({{employeeNum}})</h3>
        <p>
        Name: <input type="text" id="employeeName" value="{{name}}"><br>
        Employee#: <input type="text" id="employeeNumber" value="{{employeeNum}}"><br>
        </p>

        <h2>2.) Button and ClickListeners (Incomplete)</h2>
        <button id='Update'>Update!</button>

        <h2>3.) Expressions</h2>

            <h3>3.1) Format Salary</h3>
            <h4>Current User Info: {{name}} {{formatSalary(salary)}}</h4>
            <p>
            Salary: <input type="text" id="salary" value="{{salary}}"><br>
            </p>

            <h3>3.2) Color Mixer</h3>

            <div id="colorMixer">
                <div id="red">
                    {{#with colorMixer.red}}
                    <div class="color-gauge" style="background-color:{{.name}}; width:{{.amount *100}}%"></div>
                    <div id="redControls">
                        <input type="number" name="quantity" min="0.0" max="1" step="0.05" value="{{.amount}}">
                    </div>
                    {{/with}}
                </div>

                <div id="green">
                    {{#with colorMixer.green}}
                    <div class="color-gauge" style="background-color:{{.name}}; width:{{.amount *100}}%"></div>
                    <div id="redControls">
                        <input type="number" name="quantity" min="0.0" max="1" step="0.05" value="{{.amount}}">
                    </div>
                    {{/with}}
                </div>

                <div id="blue">
                    {{#with colorMixer.blue}}
                    <div class="color-gauge" style="background-color:{{.name}}; width:{{.amount *100}}%"></div>
                    <div id="redControls">
                        <input type="number" name="quantity" min="0.0" max="1" step="0.05" value="{{.amount}}">
                    </div>
                    {{/with}}
                </div>

                <div id="palette">
                    <div class="color-gauge" style="background-color:rgb({{Math.round(colorMixer.red.amount*255)}},{{Math.round(colorMixer.green.amount*255)}},{{Math.round(colorMixer.blue.amount*255)}}); width:100%"></div>
                </div>
                <p>{{Math.round(colorMixer.red.amount*255)}},{{Math.round(colorMixer.green.amount*255)}},{{Math.round(colorMixer.blue.amount*255)}}</p>
            </div>

            <h3>4) Login and Conditional Statements</h3>
            <p>Status: {{#if signedIn}}Signed in as {{username}}{{else}}No signed in{{/if}}</p>
            Username: <input type="text" id="loginUsername" value="{{loginUsername}}"><br>
            <button on-click="loginConditional('(#loginUsername).val()')">Login</button>


    </script>



    <div id="target"></div>

    <div id="target"></div>

    <script id="template" type="text/ractive">
	<table>
	  <tr>
	  	<th>#</th>
	    <th class="sortable {{sortColumn ==='name'? 'sorted' : ''}}" style=' color: {{sortColumn ==='name'? 'red' : 'green'}}'on-click="@.sort('name')">Superhero name</th>
	    <th class="sortable" class-sorted="sortColumn === 'realname'" on-click="@.sort('realname')">Real name</th>
	    <th class="sortable" class-sorted="sortColumn === 'power'" on-click="@.sort('power')">Superpower</th>
	  </tr>

	  {{#each sort( superheroes ): num}}
	    <tr>
	    	<td>{{num + 1}}</td>
	      <td><a href='{{info}}'>{{name}}</a></td>
	      <td>{{realname}}</td>
	      <td>{{power}}</td>
	    </tr>
	  {{/each}}
	</table>
</script>

    <script src="js/ractiveTestBench.js"></script>
</body>
</html>